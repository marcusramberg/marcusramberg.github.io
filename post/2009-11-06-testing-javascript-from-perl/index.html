<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content><meta name=generator content="Hugo 0.72.0"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=/index.xml type=application/rss+xml title="Suburban Nerd"><title>Testing JavaScript from Perl - Suburban Nerd</title></head><body><header><div class="container clearfix"><a class=path href=http://marcus.nordaaker.com>[Suburban Nerd]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime=2009-11-06>November 06, 2009</time></span><br><span class=key>tags:</span>
<span class=val><a href=/tags/javascript>Javascript</a>
<a href=/tags/perl>Perl</a>
<a href=/tags/testing>Testing</a></span></div><h1 class=headline itemprop=headline>Testing JavaScript from Perl</h1><section class=body itemprop=articleBody><p>If you want to write tests for your JavaScript code from Perl, Claes' module <a href=http://search.cpan.org/~claesjac/JavaScript-1.12/lib/Test/JavaScript/More.pm>Test::JavaScript::More</a> comes in handy. This module works by evaling everything from the use line as JavaScript. Of course, now you're mixing two languages in one file, which is not going to make any of your syntax validators happy. However, loading it like this will please both perl and jslint:</p><pre>
m| /* |; # Comment out JavaScript
use Test::JavaScript::More;
__END__ = '';  // It's is all JS from here. */
ok(1,'Success!');
</pre><p>One final note. I had some problems building the cpan module of JavaScript on OSX with Spidermonkey from ports. If you have the same problem, get the <a href=http://github.com/claesjac/javascript>latest and greatest version</a> from GitHub, which fixes this issue.</p></section></article></main></div><footer><div class=container><span class=copyright>&copy; 2020 Suburban Nerd - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a></span></div></footer></body></html>