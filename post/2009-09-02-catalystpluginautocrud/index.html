<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Making (?:things|code|evil|mistakes)."><meta name=author content="Marcus Ramberg"><meta name=generator content="Hugo 0.72.0"><title>Catalyst::Plugin::AutoCRUD -- marcus.means.no</title><link href=https://marcus.means.no//css/bootstrap.min.css rel=stylesheet><link href=https://marcus.means.no//css/clean-blog.min.css rel=stylesheet><link href=//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css rel=stylesheet type=text/css><link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel=stylesheet type=text/css><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel=stylesheet type=text/css><meta property="og:title" content="Catalyst::Plugin::AutoCRUD"><meta property="og:url" content="https://marcus.means.no//"><meta property="og:image" content="https://marcus.means.no//"></head><body><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle data-toggle=collapse data-target=#bs-example-navbar-collapse-1>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=https://marcus.means.no/>marcus.means.no</a></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav navbar-right"><li><a href=/>Home</a></li><li><a href=/tags/>Tags</a></li><li><a href=/post/>Archives</a></li></ul></div></div></nav><header class=intro-header style="background-image:linear-gradient( rgba(0,0,0,0.5),rgba(0,0,0,0.5) ),url('https://marcus.means.no//img/post-bg.jpg')"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1>Catalyst::Plugin::AutoCRUD</h1><h2 class=subheading></h2><span class=meta>A 3 minute read,
<small>2009-09-02</small>
&minus; &#127991;
<a class=tag href=/tags/catalyst>catalyst</a>
&#127991;
<a class=tag href=/tags/crud>crud</a>
&#127991;
<a class=tag href=/tags/extensions>extensions</a>
&#127991;
<a class=tag href=/tags/perl>perl</a></span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><p><em>One major factor in Catalyst's success has been extensibility. I plan to<br>do a series on extensions that I've found useful recently. To kick it off,<br>I'll feature a model which gives me a simple and useful admin interface to<br>my DBIx::Class models.</em></p><p>When I first got involved with MVC Web Frameworks like Maypole and Ruby on<br>Rails, a big selling point was the ability to generate CRUD (Create/Read/<br>Update/Delete) interfaces to your data model. Ruby on Rails does this through<br>a mechanism called scaffolding, where it adds a set of actions to your<br>controller. It soon became apparent that these CRUD frameworks did not live<br>up to their promise as a base for creating your own custom actions. Usually,<br>you spend more time customizing these controllers than you would just<br>implementing the features you require.</p><p>However, there is still a good use for these for giving your admins a<br>direct interface to your data model. There has been several iterations of<br>these tools for the Catalyst framework, but with Catalyst::Plugin::AutoCRUD,<br>I've finally found something easy to plug into your existing app, which<br>integrates well with most setups.</p><p><img src=http://marcus.nordaaker.com/wp-content/uploads/2009/09/autocrud.png alt=autocrud title=autocrud width=500 height=306 class="size-full wp-image-2942"></p><p>For most apps, all you need to do is plug it into the main application class<br>by adding AutoCRUD to your list of plugins. This will plug a complete CRUD<br>application, including controllers and view and templates into your app.<br>By default it will attach itself at '/autocrud', but you can easily change<br>that in config. Just add this to your config file:</p><pre><plugin ::autocrud>
      basepath admin
</plugin></pre><p>and it will respond to /admin/* instead. Another common requirement is to<br>add authentication for the admin interface. One way to accomplish that is<br>by using Catalyst's auto handler functionality. Add a method like this in<br>your Root controller</p><pre>sub auto :Private {
    my ( $self, $c ) = @_;
    if ($c->action->reverse =~ /^autocrud\//) {
        $c->authenticate({},'users');
    }
    return 1;
}</pre><p>Note that my example is using HTTP Basic auth. The actual authenticate call<br>needs to be customized for your realm.</p><p>AutoCRUD supports multiple DBIC Schemas, and if will automatically provide you<br>with a list to let you pick which one to work with. After that, you choose<br>a Result class, and you have access to an extensive AJAX-enhanched database<br>admin tool. You can search and browse data, as well as edit it and add new<br>rows easily. AutoCRUD also understands your DBIC relationships, so you can<br>easily see data related to the current rows.</p><p>Like it's predecessors, I do not recommend trying to make this tool<br>into a generic 'allweb'-application. However, if you use it for what it is,<br>you can save countless of development hours making trivial admin tools. Since<br>it works again your DBIC Schema, you'll also get the advantage of keeping<br>your business logic in the data model. Things like DBIC timestamps will<br>Just Work.</p><p><em>There still might be some polishing left to do on AutoCRUD, but I already<br>find it a hugely useful tool. You can install it just like you would any other CPAN module using</p><p><code>$ cpan Catalyst::Plugin::AutoCRUD</code></em></p></div></div></div></article><hr><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href=mailto:marcus@means.no><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://twitter.com/marcusramberg><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://github.com/marcusramberg><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://www.facebook.com/marcusramberg><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-facebook fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted"><a href=https://github.com/marcusramberg/blog/>Code released under the Apache 2.0 license.</a></p></div></div></div></footer><script src=https://marcus.means.no//js/jquery.min.js></script><script src=https://marcus.means.no//js/bootstrap.min.js></script></body></html>